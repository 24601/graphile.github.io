<!DOCTYPE html>
 <html lang="en"><head><meta charset="utf-8"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NNK4X8M');</script><script src="https://use.fontawesome.com/c72bfae6f9.js"></script><link rel="preload" href="/component---src-layouts-index-js-d940cd9599529ddd8baf.js" as="script"/><link rel="preload" href="/component---src-templates-page-js-45763df0e51bd2dfb9d0.js" as="script"/><link rel="preload" href="/path---graphile-build-plugins-67e9f13162e6008e9188.js" as="script"/><link rel="preload" href="/app-6d1c9b7d51b5c45f1217.js" as="script"/><link rel="preload" href="/commons-af24df79ddc393e5cf48.js" as="script"/><script id="webpack-manifest">
            //<![CDATA[
            window.webpackManifest = {"15178676390636814000":"app-6d1c9b7d51b5c45f1217.js","6354438848726490000":"component---src-templates-page-js-45763df0e51bd2dfb9d0.js","3918056598153407000":"component---src-templates-marketing-js-5474a2d2e4c705c8f6c4.js","3954140758598355500":"path----557518bd178906f8d58a.js","3000790572835897000":"path---history-fe26eae9b83809b90ffd.js","9347362237655822000":"path---index-dabd8ac17e4052fee898.js","8428063392933112000":"path---graphile-build-all-hooks-528ec0dee33d2b333070.js","4195836923314832400":"path---graphile-build-build-object-39a355f2444936599dcf.js","4555055688090620000":"path---graphile-build-context-object-a316f16109a9e4829a67.js","7205504750529626000":"path---graphile-build-getting-started-b0cc4ed25589fa58840e.js","8250511738979511000":"path---graphile-build-default-plugins-12cfcc554ec0cba6d96e.js","3771791408109622300":"path---graphile-build-hooks-075497e70bd9c0df5f36.js","1062387460204904600":"path---graphile-build-graphile-build-617af6d18e98b570fbd4.js","2390399147881533400":"path---graphile-build-omitting-plugins-ded5eda509cf412dcea1.js","7184560962273474000":"path---graphile-build-4307c5880917c71e4f62.js","18106655623105920000":"path---graphile-build-plugin-options-3399c5e18dc1446c792c.js","5002895319514266000":"path---graphile-build-look-ahead-8bc147f787b6626acb27.js","8948711028338852000":"path---graphile-build-plugins-67e9f13162e6008e9188.js","18184767599037770000":"path---graphile-build-schema-builder-f81f70eae82bfd037e12.js","12610637221850356000":"path---graphile-build-pg-security-492921c2b047fef2d600.js","8772566600393005000":"path---postgraphile-settings-b929481a2a10187ed0d2.js","9284278481446570000":"path---support-550ea4ce3e5f3c2ca69c.js","6515005643110327000":"path---postgraphile-computed-columns-902ce543d4296ad426fe.js","14828157494412298000":"path---postgraphile-crud-mutations-1c8ddaa0e3d9666d158b.js","16069087941836857000":"path---postgraphile-connections-71b897c11768b4352f7b.js","13726931753980498000":"path---postgraphile-custom-mutations-6fd2c340dc6feded7410.js","17185268450471195000":"path---postgraphile-custom-queries-e91d618871285ecb12fb.js","11994700922543962000":"path---postgraphile-default-role-040acd8897f496306bc2.js","3021897627100894700":"path---postgraphile-evaluating-c71dad471e4af5780612.js","96033804396543090":"path---postgraphile-extending-f4531e2d5b88d9470521.js","1943873715935326000":"path---postgraphile-filtering-f75cfd3e77eaa259bba8.js","3195847254699379700":"path---postgraphile-150cd62011ff6a2066c8.js","2227050697239772200":"path---postgraphile-introspection-07b5e4398f2189a2bb77.js","15157997279410745000":"path---postgraphile-introduction-1e27e7e2388254f2b77e.js","2838144339183239000":"path---postgraphile-postgresql-indexes-02f09469569398392693.js","14254897639210230000":"path---postgraphile-jwt-guide-e941f570895306e2d229.js","16885969067605012000":"path---postgraphile-procedures-6780bd4d0e4f04823c31.js","16111252123784985000":"path---postgraphile-performance-8198ae19bb72e4d16baa.js","8958514494574895000":"path---postgraphile-relations-8053dd5c107ae2266a81.js","12274565075711388000":"path---postgraphile-requirements-c954a4cda9bf215a5805.js","1169112013285621200":"path---postgraphile-postgresql-schema-design-4ef86a19f52acaaff8c7.js","9432930456023296000":"path---postgraphile-security-aa29f22d4e1c277ec06d.js","214018445676298080":"path---postgraphile-usage-cli-99f89081bd68d3d84225.js","9703967671503860000":"path---postgraphile-usage-library-e85b801a53292afe5f43.js","16226825268806257000":"path---postgraphile-usage-10f9c4186963a6471a6b.js","17830146079722576000":"path---postgraphile-usage-schema-9276867e6e7878dfd9cd.js","7489246917808536000":"component---src-layouts-index-js-d940cd9599529ddd8baf.js"}
            //]]>
            </script><title data-react-helmet="true">Graphile | Plugins</title><meta data-react-helmet="true" name="description" content="Utilities to build powerful and performant GraphQL APIs"/><meta data-react-helmet="true" name="keywords" content="GraphQL, API, Graph, PostgreSQL, PostGraphQL, server, plugins, introspection, reflection"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = location.hash.replace('#', '')
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><script>
  !function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",[
  "/commons-af24df79ddc393e5cf48.js","/app-6d1c9b7d51b5c45f1217.js","/path---graphile-build-plugins-67e9f13162e6008e9188.js","/component---src-templates-page-js-45763df0e51bd2dfb9d0.js","/component---src-layouts-index-js-d940cd9599529ddd8baf.js"
])
  </script><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=5.0"/><link rel="stylesheet" href="/styles.css?t=2017-11-17T17-58-24.601Z"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NNK4X8M" height="0" width="0" style="display:none;visibility:hidden;"></iframe></noscript><div id="___gatsby"><div tabindex="-1" data-reactroot="" data-reactid="1" data-react-checksum="-382437865"><div class="template-page" data-reactid="2"><!-- react-empty: 3 --><header class="header content absolute z-999 w-100" data-reactid="4"><nav class="navbar" data-reactid="5"><div class="container" data-reactid="6"><input type="checkbox" class="navbar-toggler input-reset" id="toggle" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" data-reactid="7"/><div class="nav-controls nested-list-reset " data-reactid="8"><div class="navbar-crosses" data-reactid="9"><span class="line line-1" data-reactid="10"> </span><span class="line line-2" data-reactid="11"> </span><span class="line line-3" data-reactid="12"> </span></div><ul class="navbar-nav flex w-100" data-reactid="13"><li class="navbar-item" data-reactid="14"><a class="nav-link " href="/" data-reactid="15"><span class="home-icon fa fa-home" data-reactid="16"></span><!-- react-text: 17 --> <!-- /react-text --><span class="home" data-reactid="18">Home</span></a></li><li class="navbar-item" data-reactid="19"><a class="nav-link " href="/postgraphile/" data-reactid="20">PostGraphile</a></li><li class="navbar-item" data-reactid="21"><a class="nav-link active" href="/graphile-build/" data-reactid="22">Graphile Build</a></li><li class="navbar-item" data-reactid="23"><a class="nav-link " href="/support/" data-reactid="24">Support</a></li><li class="navbar-item" data-reactid="25"><a class="nav-link" href="https://graphql-training.com" title="GraphQL Training in London, Europe and Remote" data-reactid="26">GraphQL Training</a></li><li class="navbar-item ml-auto navbar-item-right" data-reactid="27"><span class="searchbox-container" data-reactid="28"><input id="search-box" placeholder="Search" data-reactid="29"/><span class="fa fa-search searchbox-search" data-reactid="30"></span></span></li><li class="navbar-item navbar-item-right" data-reactid="31"><a class="nav-link nav-github-link flex items-center" href="https://github.com/graphile/graphile-build" data-reactid="32"><span class="f3 fa fa-github" data-reactid="33"></span><!-- react-text: 34 --> <!-- /react-text --><span class="github" data-reactid="35">Github</span></a></li></ul></div></div></nav></header><div class="page-content" data-reactid="36"><section data-reactid="37"><div class="container" data-reactid="38"><div class="row between-xs" data-reactid="39"><aside class="sidebar col-xs-12 col-md-3 last-xs mt3" data-reactid="40"><section data-reactid="41"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="42">Overview</h4><div class="nested-list-reset" data-reactid="43"><ul class="page-list nav flex-column mb5" data-reactid="44"><li class="f6 lh-copy pv1" data-reactid="45"><a class="nav-link " href="/graphile-build/getting-started/" data-reactid="46">Getting Started</a></li><li class="f6 lh-copy pv1" data-reactid="47"><a class="nav-link active" href="/graphile-build/plugins/" data-reactid="48">Plugins</a></li><li class="f6 lh-copy pv1" data-reactid="49"><a class="nav-link " href="/graphile-build/hooks/" data-reactid="50">Hooks</a></li><li class="f6 lh-copy pv1" data-reactid="51"><a class="nav-link " href="/graphile-build/look-ahead/" data-reactid="52">Look Ahead</a></li><li class="f6 lh-copy pv1" data-reactid="53"><a class="nav-link " href="/graphile-build/omitting-plugins/" data-reactid="54">Omitting Plugins</a></li></ul></div></section><section data-reactid="55"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="56">Using the Library</h4><div class="nested-list-reset" data-reactid="57"><ul class="page-list nav flex-column mb5" data-reactid="58"><li class="f6 lh-copy pv1" data-reactid="59"><a class="nav-link " href="/graphile-build/graphile-build/" data-reactid="60">graphile-build</a></li><li class="f6 lh-copy pv1" data-reactid="61"><a class="nav-link " href="/graphile-build/schema-builder/" data-reactid="62">SchemaBuilder</a></li><li class="f6 lh-copy pv1" data-reactid="63"><a class="nav-link " href="/graphile-build/plugin-options/" data-reactid="64">Options</a></li><li class="f6 lh-copy pv1" data-reactid="65"><a class="nav-link " href="/graphile-build/default-plugins/" data-reactid="66">Default Plugins</a></li></ul></div></section><section data-reactid="67"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="68">Building a Plugin</h4><div class="nested-list-reset" data-reactid="69"><ul class="page-list nav flex-column mb5" data-reactid="70"><li class="f6 lh-copy pv1" data-reactid="71"><a class="nav-link " href="/graphile-build/all-hooks/" data-reactid="72">All Hooks</a></li><li class="f6 lh-copy pv1" data-reactid="73"><a class="nav-link " href="/graphile-build/build-object/" data-reactid="74">Build Object</a></li><li class="f6 lh-copy pv1" data-reactid="75"><a class="nav-link " href="/graphile-build/context-object/" data-reactid="76">Context Object</a></li><li class="f6 lh-copy pv1" data-reactid="77"><a class="nav-link " href="/graphile-build/schema-builder/" data-reactid="78">SchemaBuilder</a></li></ul></div></section></aside><div class="col-xs-12 col-md-9 first-xs main-content" data-reactid="79"><div class="row" data-reactid="80"><div class="col-xs-12" style="width:100%;" data-reactid="81"><h1 id="plugins"><a href="#plugins" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugins</h1>
<p class="intro">
Almost everything in Graphile-Build is accomplished through plugins. You can
add plugins, remove plugins, even replace the entire stack if you so desire.
</p>
<h2 id="loading-plugins"><a href="#loading-plugins" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Loading Plugins</h2>
<p>Plugins are loaded when you call <a href="/graphile-build/graphile-build/#buildschemaplugins-options"><code>buildSchema(plugins, options)</code></a> or
<a href="/graphile-build/graphile-build/#getbuilderplugins-options"><code>getBuilder(plugins, options)</code></a>.  They
may be asynchronous thus these functions return a promise; Graphile Build will
wait for each plugin to finish loading before attempting to load the next
plugin - so the order in which you specify the plugins may be important.</p>
<p>Here's how you might load the default plugins:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> buildSchema<span class="token punctuation">,</span> defaultPlugins <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"graphile-build"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> printSchema <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"graphql/utilities"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token operator">...</span>defaultPlugins<span class="token punctuation">,</span>
  <span class="token comment" spellcheck="true">// Add more plugins here!</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token function">buildSchema</span><span class="token punctuation">(</span>plugins<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>schema <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">printSchema</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<h2 id="writing-plugins"><a href="#writing-plugins" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Writing Plugins</h2>
<p>Graphile Build plugins are simple functions that interact with <a href="/graphile-build/schema-builder/">the
<code>SchemaBuilder</code></a>, most commonly by registering
hooks. When you perform
<a href="/graphile-build/graphile-build/"><code>buildSchema(plugins)</code></a> we create a new
<code>SchemaBuilder</code> instance and then load each of the plugins against it.</p>
<p>If a plugin returns a <code>Promise</code> (e.g. an asynchronous plugin) then we will wait
for that promise to resolve before continuing to load the next plugin,
otherwise we will assume the plugin is synchronous. This asynchronous period
should be used for performing tasks such as introspecting a data store or
fetching a file from the internet; the hooks themselves run synchronously and
thus must not perform any asynchronous work.</p>
<p>An example of a plugin that does nothing is this no-op plugin:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">NoopPlugin</span><span class="token punctuation">(</span>builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"I don't do anything"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>which you can load into your schema like so:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> buildSchema<span class="token punctuation">,</span> defaultPlugins <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"graphile-build"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> printSchema <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"graphql/utilities"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">buildSchema</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>defaultPlugins<span class="token punctuation">,</span> NoopPlugin<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>schema <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">printSchema</span><span class="token punctuation">(</span>schema<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
      </div>
<details>
<summary>View output</summary>
<div class="gatsby-highlight">
      <pre class="language-none"><code>I don't do anything
# An object with a globally unique `ID`.
interface Node {
  # A globally unique identifier. Can be used in various places throughout the system to identify this single value.
  id: ID!
}

# The root query type which gives access points into the data universe.
type Query implements Node {
  # Exposes the root query type nested one level down. This is helpful for Relay 1
  # which can only query top level fields if they are in a particular form.
  query: Query!

  # The root query type must be a `Node` to work well with Relay 1 mutations. This just resolves to `query`.
  id: ID!

  # Fetches an object given its globally unique `ID`.
  node(
    # The globally unique `ID`.
    id: ID!
  ): Node
}</code></pre>
      </div>
</details>
<h3 id="an-example-plugin"><a href="#an-example-plugin" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>An example plugin</h3>
<p>This plugin will add a field <code>random(sides: Int)</code> to every GraphQLObjectType that is generated with hooks:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code><span class="token comment" spellcheck="true">// No imports required!</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">MyRandomFieldPlugin</span><span class="token punctuation">(</span>
  builder<span class="token punctuation">,</span>
  <span class="token punctuation">{</span> myDefaultMin <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> myDefaultMax <span class="token operator">=</span> <span class="token number">100</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  builder<span class="token punctuation">.</span><span class="token function">hook</span><span class="token punctuation">(</span><span class="token string">"GraphQLObjectType:fields"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>
    fields<span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// input object</span>
    <span class="token punctuation">{</span> extend<span class="token punctuation">,</span> graphql<span class="token punctuation">:</span> <span class="token punctuation">{</span> GraphQLInt <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">// Build</span>
    context <span class="token comment" spellcheck="true">// Context</span>
  <span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">extend</span><span class="token punctuation">(</span>fields<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      random<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        type<span class="token punctuation">:</span> GraphQLInt<span class="token punctuation">,</span>
        args<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          sides<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            type<span class="token punctuation">:</span> GraphQLInt<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>_<span class="token punctuation">,</span> <span class="token punctuation">{</span> sides <span class="token operator">=</span> myDefaultMax <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span>
            Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>sides <span class="token operator">-</span> myDefaultMin <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> myDefaultMin
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
      </div>
<p>First it registers a hook on <code>GraphQLObjectType:fields</code> which will be called
for the <code>fields</code> property of every <code>GraphQLObjectType</code> that is constructed.</p>
<p>The callback to this <a href="/graphile-build/hooks/">hook</a> is passed the three standard options:</p>
<ul>
<li>input object, <code>fields</code>, which is basically a <a href="http://graphql.org/graphql-js/type/#graphqlobjecttype"><code>GraphQLFieldConfigMap</code> from graphql-js</a>.</li>
<li><a href="/graphile-build/build-object/"><code>Build</code> object</a> (from which we're using <code>extend</code> and <code>graphql.GraphQLInt</code></li>
<li><a href="/graphile-build/context-object/"><code>Context</code> object</a> which it is ignoring; but if we wanted to filter which objects get the <code>random</code> field added this would be what we'd use</li>
</ul>
<p>Finally we're returning a derivative of the <code>fields</code> that were input by adding
an additonal property <code>field</code> which is a standard GraphQL field config
<code>GraphQLFieldConfig</code> - see the <a href="http://graphql.org/graphql-js/type/#graphqlobjecttype">GraphQL-js
documentation</a>.</p>
<h3 id="plugin-arguments"><a href="#plugin-arguments" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugin arguments</h3>
<p>Plugins are called with just two arguments:</p>
<ul>
<li><code>builder</code> - the instance of <a href="/graphile-build/graphile-build/"><code>SchemaBuilder</code></a> the plugin is being loaded against</li>
<li><code>options</code> - <a href="/graphile-build/plugin-options/">the options</a> that were passed to <code>buildSchema(plugins, options)</code> (or <code>getBuilder(plugins, options)</code>)</li>
</ul>
<h3 id="plugin-actions"><a href="#plugin-actions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Plugin actions</h3>
<p>Whilst a plugin is being executed it can perform actions on the <code>builder</code>
object (its first argument). For a list of the functions and what they do, see
<a href="/graphile-build/schema-builder/">SchemaBuilder</a>.</p>
<p>The most common actions are:</p>
<ul>
<li>Register a hook: <code>builder.hook(hookName, hookFunction)</code>; see <a href="/graphile-build/hooks/">Hooks</a></li>
<li>Add watch-mode event listeners: <code>builder.registerWatcher(watcher, unwatcher)</code>; see <a href="/graphile-build/schema-builder/">SchemaBuilder</a></li>
</ul></div><br data-reactid="82"/><br data-reactid="83"/><div class="col-xs-12 mt3 mb5" data-reactid="84"><div class="row between-xs" data-reactid="85"><div class="col-xs-6" data-reactid="86"><a class="" href="/graphile-build/getting-started/" data-reactid="87"><span class="fa fa-fw fa-long-arrow-left" data-reactid="88"></span><!-- react-text: 89 --> <!-- /react-text --><!-- react-text: 90 -->Getting Started<!-- /react-text --></a></div><div class="col-xs-6 tr" data-reactid="91"><a class="" href="/graphile-build/hooks/" data-reactid="92"><!-- react-text: 93 -->Hooks<!-- /react-text --><!-- react-text: 94 --> <!-- /react-text --><span class="fa fa-fw fa-long-arrow-right" data-reactid="95"></span></a></div></div></div></div></div></div></div></section></div><footer class="bg-white pv5 bt b--black f6 lh-copy" data-reactid="96"><div class="container" data-reactid="97"><div class="row" data-reactid="98"><div class="col-xs-12 col-md-2 nested-list-reset " data-reactid="99"><h6 data-reactid="100">PostGraphile</h6><ul data-reactid="101"><li data-reactid="102"><a href="/postgraphile/introduction/" data-reactid="103">Introduction</a></li><li data-reactid="104"><a href="/postgraphile/security/" data-reactid="105">Security</a></li><li data-reactid="106"><a href="/postgraphile/extending/" data-reactid="107">Extending</a></li></ul></div><div class="col-xs-12 col-md-2 nested-list-reset " data-reactid="108"><h6 data-reactid="109">Graphile Build</h6><ul data-reactid="110"><li data-reactid="111"><a href="/graphile-build/" data-reactid="112">About</a></li><li data-reactid="113"><a href="/graphile-build/getting-started/" data-reactid="114">Getting Started</a></li><li data-reactid="115"><a href="/graphile-build/plugins/" data-reactid="116">Plugins</a></li></ul></div><div class="col-xs-12 col-md-4 nested-list-reset" data-reactid="117"><h6 data-reactid="118">Community</h6><ul data-reactid="119"><li data-reactid="120"><a href="https://github.com/graphile" data-reactid="121">GitHub</a></li><li data-reactid="122"><a href="https://gitter.im/postgraphql/postgraphql" data-reactid="123">Gitter chat</a></li><li data-reactid="124"><a href="https://twitter.com/benjie" data-reactid="125">Twitter</a></li></ul></div><div class="col-xs-12 col-md-4" data-reactid="126"><h6 data-reactid="127">About</h6><!-- react-text: 128 -->PostGraphile and Graphile Build are Open Source Software, maintained by <!-- /react-text --><a href="https://twitter.com/benjie" data-reactid="129">Benjie Gillam</a><!-- react-text: 130 -->.<!-- /react-text --><br data-reactid="131"/><!-- react-text: 132 -->PostGraphile was <!-- /react-text --><a href="/history/" data-reactid="133">originally authored</a><!-- react-text: 134 --> as PostGraphQL by<!-- /react-text --><!-- react-text: 135 --> <!-- /react-text --><a href="https://twitter.com/calebmer" data-reactid="136">Caleb Meredith</a><!-- react-text: 137 -->.<!-- /react-text --><br data-reactid="138"/><br data-reactid="139"/><!-- react-text: 140 -->This site is copyright © Benjie Gillam 2017. Design and logo copyright © Jof Arnold 2017.<!-- /react-text --></div></div><div class="row" data-reactid="141"><div class="col-xs-12" data-reactid="142"><div class="cs__wrapper" data-reactid="143"><div class="cs__header" data-reactid="144">Proudly sponsored by</div><a href="https://codesponsor.io" class="cs__blurb" target="_blank" rel="noopener" data-reactid="145"><strong data-reactid="146">CodeSponsor.io</strong><!-- react-text: 147 --> <!-- /react-text --><span data-reactid="148"> - get paid by adding one line of code to your README</span></a><div class="cs__footer" data-reactid="149"><!-- react-text: 150 -->powered by<!-- /react-text --><!-- react-text: 151 --> <!-- /react-text --><a href="https://codesponsor.io/?utm_source=widget&amp;utm_medium=banner&amp;utm_campaign=r1beBERkvMtxu_7Bp-Wo_A" target="_blank" rel="noopener" data-reactid="152">codesponsor.io</a></div><img class="cs__pixel" data-reactid="153"/></div></div></div></div></footer></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script></body></html>