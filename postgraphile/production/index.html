<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NNK4X8M');</script><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous"/><link rel="preload" href="/component---src-layouts-index-js-bf0cf927d312fc2d4c27.js" as="script"/><link rel="preload" href="/component---src-templates-page-js-44912100fe5a923703fa.js" as="script"/><link rel="preload" href="/path---postgraphile-production-8b31fb5e656894ff78bd.js" as="script"/><link rel="preload" href="/app-1fc147b2e9689baf38ab.js" as="script"/><link rel="preload" href="/commons-e9c5ebe9f9d03df65cb6.js" as="script"/><title data-react-helmet="true">PostGraphile | Production Considerations</title><meta data-react-helmet="true" name="description" content="Utilities to build powerful and performant GraphQL APIs"/><meta data-react-helmet="true" name="keywords" content="GraphQL, API, Graph, PostgreSQL, PostGraphile, PostGraphQL, Postgres-GraphQL, server, plugins, introspection, reflection"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=5.0"/><link rel="stylesheet" href="/styles.css?t=2018-12-06T19-55-00.169Z"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="manifest" href="/site.webmanifest"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#da532c"/><meta name="theme-color" content="#ffffff"/></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NNK4X8M" height="0" width="0" style="display:none;visibility:hidden;"></iframe></noscript><div id="___gatsby"><div tabindex="-1" data-reactroot="" data-reactid="1" data-react-checksum="-1200730163"><div class="template-page postgraphile" data-reactid="2"><!-- react-empty: 3 --><header class="header content absolute z-999 w-100" data-reactid="4"><nav class="navbar" data-reactid="5"><div class="container" data-reactid="6"><input type="checkbox" class="navbar-toggler input-reset" id="toggle" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation" data-reactid="7"/><div class="nav-controls nested-list-reset " data-reactid="8"><div class="navbar-crosses" data-reactid="9"><span class="line line-1" data-reactid="10"> </span><span class="line line-2" data-reactid="11"> </span><span class="line line-3" data-reactid="12"> </span></div><ul class="navbar-nav flex w-100" data-reactid="13"><li class="navbar-item" data-reactid="14"><a class="nav-link " href="/" data-reactid="15"><span class="home-icon fas fa-home" data-reactid="16"></span><!-- react-text: 17 --> <!-- /react-text --><span class="home" data-reactid="18">Home</span></a></li><!-- react-empty: 19 --><!-- react-empty: 20 --><li class="navbar-item" data-reactid="21"><a class="nav-link " href="/postgraphile/" data-reactid="22">Overview</a></li><li class="navbar-item" data-reactid="23"><a class="nav-link active" href="/postgraphile/introduction/" data-reactid="24">Documentation</a></li><li class="navbar-item" data-reactid="25"><a class="nav-link " href="/sponsor/" data-reactid="26">Sponsor</a></li><li class="navbar-item" data-reactid="27"><a class="hide-when-small nav-link " href="/postgraphile/pricing/" data-reactid="28">Go Pro!</a></li><!-- react-empty: 29 --><!-- react-empty: 30 --><!-- react-empty: 31 --><!-- react-empty: 32 --><!-- react-empty: 33 --><li class="navbar-item ml-auto navbar-item-right" data-reactid="34"><span class="searchbox-container" data-reactid="35"><input id="search-box" placeholder="Search" data-reactid="36"/><span class="fas fa-search searchbox-search" data-reactid="37"></span></span></li><li class="navbar-item navbar-item-right" data-reactid="38"><a class="nav-link " href="/support/" data-reactid="39"><span data-reactid="40"><span class="hide-when-small" data-reactid="41">Support and </span><!-- react-text: 42 -->Services<!-- /react-text --></span></a></li><li class="navbar-item navbar-item-right" data-reactid="43"><a class="nav-link nav-github-link flex items-center" href="https://github.com/graphile/postgraphile" data-reactid="44"><span class="f3 fab fa-github" data-reactid="45"></span><!-- react-text: 46 --> <!-- /react-text --><span class="github" data-reactid="47"><!-- react-text: 48 -->Github<!-- /react-text --><!-- react-text: 49 --> <!-- /react-text --><span class="fas fa-external-link-square-alt" data-reactid="50"></span></span></a></li></ul></div></div></nav></header><div class="page-content" data-reactid="51"><section data-reactid="52"><div class="container" data-reactid="53"><div class="row between-xs" data-reactid="54"><aside class="sidebar col-xs-12 col-md-3 last-xs mt3" data-reactid="55"><section data-reactid="56"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="57"><span data-reactid="58">Overview</span></h4><div class="nested-list-reset" data-reactid="59"><ul class="page-list nav flex-column mb5" data-reactid="60"><li class="f6 lh-copy pv1" data-reactid="61"><a class="nav-link " href="/postgraphile/introduction/" data-reactid="62"><span data-reactid="63">Introduction</span></a></li><li class="f6 lh-copy pv1" data-reactid="64"><a class="nav-link " href="/postgraphile/examples/" data-reactid="65"><span data-reactid="66"><strong>Example Gallery</strong></span></a></li><li class="f6 lh-copy pv1" data-reactid="67"><a class="nav-link " href="/postgraphile/usage/" data-reactid="68"><span data-reactid="69">Usage</span></a><ul class="page-list nav flex-column null" data-reactid="70"><li class="f6 lh-copy pv1" data-reactid="71"><a class="nav-link " href="/postgraphile/usage-cli/" data-reactid="72"><span data-reactid="73">CLI Usage</span></a></li><li class="f6 lh-copy pv1" data-reactid="74"><a class="nav-link " href="/postgraphile/usage-library/" data-reactid="75"><span data-reactid="76">Library Usage</span></a></li><li class="f6 lh-copy pv1" data-reactid="77"><a class="nav-link " href="/postgraphile/usage-schema/" data-reactid="78"><span data-reactid="79">Schema-only Usage</span></a></li></ul></li><li class="f6 lh-copy pv1" data-reactid="80"><a class="nav-link " href="/postgraphile/performance/" data-reactid="81"><span data-reactid="82">Performance</span></a></li><li class="f6 lh-copy pv1" data-reactid="83"><a class="nav-link " href="/postgraphile/requirements/" data-reactid="84"><span data-reactid="85">Requirements</span></a></li></ul></div></section><section data-reactid="86"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="87"><span data-reactid="88">Operation</span></h4><div class="nested-list-reset" data-reactid="89"><ul class="page-list nav flex-column mb5" data-reactid="90"><li class="f6 lh-copy pv1" data-reactid="91"><a class="nav-link " href="/postgraphile/quick-start-guide/" data-reactid="92"><span data-reactid="93">Quick Start Guide</span></a></li><li class="f6 lh-copy pv1" data-reactid="94"><a class="nav-link " href="/postgraphile/namespaces/" data-reactid="95"><span data-reactid="96">Namespaces</span></a></li><li class="f6 lh-copy pv1" data-reactid="97"><a class="nav-link " href="/postgraphile/inflection/" data-reactid="98"><span data-reactid="99">Inflection</span></a></li><li class="f6 lh-copy pv1" data-reactid="100"><a class="nav-link " href="/postgraphile/tables/" data-reactid="101"><span data-reactid="102">Tables</span></a><ul class="page-list nav flex-column null" data-reactid="103"><li class="f6 lh-copy pv1" data-reactid="104"><a class="nav-link " href="/postgraphile/relations/" data-reactid="105"><span data-reactid="106">Relations</span></a></li><li class="f6 lh-copy pv1" data-reactid="107"><a class="nav-link " href="/postgraphile/connections/" data-reactid="108"><span data-reactid="109">Connections</span></a></li><li class="f6 lh-copy pv1" data-reactid="110"><a class="nav-link " href="/postgraphile/filtering/" data-reactid="111"><span data-reactid="112">Filtering</span></a></li><li class="f6 lh-copy pv1" data-reactid="113"><a class="nav-link " href="/postgraphile/crud-mutations/" data-reactid="114"><span data-reactid="115">CRUD Mutations</span></a></li><li class="f6 lh-copy pv1" data-reactid="116"><a class="nav-link " href="/postgraphile/node-id/" data-reactid="117"><span data-reactid="118">nodeId / id</span></a></li></ul></li><li class="f6 lh-copy pv1" data-reactid="119"><a class="nav-link " href="/postgraphile/functions/" data-reactid="120"><span data-reactid="121">Functions</span></a><ul class="page-list nav flex-column null" data-reactid="122"><li class="f6 lh-copy pv1" data-reactid="123"><a class="nav-link " href="/postgraphile/computed-columns/" data-reactid="124"><span data-reactid="125">Computed Columns</span></a></li><li class="f6 lh-copy pv1" data-reactid="126"><a class="nav-link " href="/postgraphile/custom-queries/" data-reactid="127"><span data-reactid="128">Custom Queries</span></a></li><li class="f6 lh-copy pv1" data-reactid="129"><a class="nav-link " href="/postgraphile/custom-mutations/" data-reactid="130"><span data-reactid="131">Custom Mutations</span></a></li><li class="f6 lh-copy pv1" data-reactid="132"><a class="nav-link " href="/postgraphile/function-restrictions/" data-reactid="133"><span data-reactid="134">Function Restrictions</span></a></li><li class="f6 lh-copy pv1" data-reactid="135"><a class="nav-link " href="/postgraphile/function-gallery/" data-reactid="136"><span data-reactid="137"><strong>Function Gallery</strong></span></a></li></ul></li><li class="f6 lh-copy pv1" data-reactid="138"><a class="nav-link " href="/postgraphile/postgresql-indexes/" data-reactid="139"><span data-reactid="140">PostgreSQL Indexes</span></a></li><li class="f6 lh-copy pv1" data-reactid="141"><a class="nav-link " href="/postgraphile/security/" data-reactid="142"><span data-reactid="143">Security</span></a></li><li class="f6 lh-copy pv1" data-reactid="144"><a class="nav-link " href="/postgraphile/subscriptions/" data-reactid="145"><span data-reactid="146">Subscriptions</span></a></li><li class="f6 lh-copy pv1" data-reactid="147"><a class="nav-link " href="/postgraphile/reserved-keywords/" data-reactid="148"><span data-reactid="149">Reserved Keywords</span></a></li><li class="f6 lh-copy pv1" data-reactid="150"><a class="nav-link " href="/postgraphile/debugging/" data-reactid="151"><span data-reactid="152">Debugging</span></a></li></ul></div></section><section data-reactid="153"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="154"><span data-reactid="155">Customising</span></h4><div class="nested-list-reset" data-reactid="156"><ul class="page-list nav flex-column mb5" data-reactid="157"><li class="f6 lh-copy pv1" data-reactid="158"><a class="nav-link " href="/postgraphile/smart-comments/" data-reactid="159"><span data-reactid="160">Smart Comments</span></a></li><li class="f6 lh-copy pv1" data-reactid="161"><a class="nav-link " href="/postgraphile/extending/" data-reactid="162"><span data-reactid="163">Schema Plugins</span></a><ul class="page-list nav flex-column null" data-reactid="164"><li class="f6 lh-copy pv1" data-reactid="165"><a class="nav-link " href="/postgraphile/make-add-inflectors-plugin/" data-reactid="166"><span data-reactid="167">makeAddInflectorsPlugin</span></a></li><li class="f6 lh-copy pv1" data-reactid="168"><a class="nav-link " href="/postgraphile/make-change-nullability-plugin/" data-reactid="169"><span data-reactid="170">makeChangeNullabilityPlugin</span></a></li><li class="f6 lh-copy pv1" data-reactid="171"><a class="nav-link " href="/postgraphile/make-extend-schema-plugin/" data-reactid="172"><span data-reactid="173">makeExtendSchemaPlugin</span></a></li><li class="f6 lh-copy pv1" data-reactid="174"><a class="nav-link " href="/postgraphile/make-process-schema-plugin/" data-reactid="175"><span data-reactid="176">makeProcessSchemaPlugin</span></a></li><li class="f6 lh-copy pv1" data-reactid="177"><a class="nav-link " href="/postgraphile/make-wrap-resolvers-plugin/" data-reactid="178"><span data-reactid="179">makeWrapResolversPlugin</span></a></li><li class="f6 lh-copy pv1" data-reactid="180"><a class="nav-link " href="/postgraphile/make-plugin-by-combining-plugins/" data-reactid="181"><span data-reactid="182">makePluginByCombiningPlugins</span></a></li><li class="f6 lh-copy pv1" data-reactid="183"><a class="nav-link " href="/postgraphile/extending-raw/" data-reactid="184"><span data-reactid="185">Graphile Engine</span></a></li><li class="f6 lh-copy pv1" data-reactid="186"><a class="nav-link " href="/postgraphile/plugin-gallery/" data-reactid="187"><span data-reactid="188"><strong>Plugin Gallery</strong></span></a></li><li class="f6 lh-copy pv1" data-reactid="189"><a class="nav-link " href="/postgraphile/community-plugins/" data-reactid="190"><span data-reactid="191">Community Plugins</span></a></li></ul></li><li class="f6 lh-copy pv1" data-reactid="192"><a class="nav-link " href="/postgraphile/plugins/" data-reactid="193"><span data-reactid="194">Server Plugins</span></a></li></ul></div></section><section data-reactid="195"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="196"><span data-reactid="197">Guides</span></h4><div class="nested-list-reset" data-reactid="198"><ul class="page-list nav flex-column mb5" data-reactid="199"><li class="f6 lh-copy pv1" data-reactid="200"><a class="nav-link " href="/postgraphile/evaluating/" data-reactid="201"><span data-reactid="202">Evaluating for your Project</span></a></li><li class="f6 lh-copy pv1" data-reactid="203"><a class="nav-link " href="/postgraphile/postgresql-schema-design/" data-reactid="204"><span data-reactid="205">PostgreSQL Schema Design</span></a></li><li class="f6 lh-copy pv1" data-reactid="206"><a class="nav-link active" href="/postgraphile/production/" data-reactid="207"><span data-reactid="208">Production Considerations</span></a></li><li class="f6 lh-copy pv1" data-reactid="209"><a class="nav-link " href="/postgraphile/jwt-guide/" data-reactid="210"><span data-reactid="211">PostGraphile JWT Guide</span></a></li><li class="f6 lh-copy pv1" data-reactid="212"><a class="nav-link " href="/postgraphile/jwk-verification/" data-reactid="213"><span data-reactid="214">JWK Verification (e.g. Auth0)</span></a></li><li class="f6 lh-copy pv1" data-reactid="215"><a class="nav-link " href="/postgraphile/default-role/" data-reactid="216"><span data-reactid="217">The Default Role</span></a></li><li class="f6 lh-copy pv1" data-reactid="218"><a class="nav-link " href="/postgraphile/v4-new-features/" data-reactid="219"><span data-reactid="220">v4 Feature Guide</span></a></li><li class="f6 lh-copy pv1" data-reactid="221"><a class="nav-link " href="/postgraphile/v3-migration/" data-reactid="222"><span data-reactid="223">v3 → v4 Migration Guide</span></a></li><li class="f6 lh-copy pv1" data-reactid="224"><a class="nav-link " href="/postgraphile/testing-jest/" data-reactid="225"><span data-reactid="226">Testing with Jest</span></a></li></ul></div></section><section data-reactid="227"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="228"><span data-reactid="229">Community</span></h4><div class="nested-list-reset" data-reactid="230"><ul class="page-list nav flex-column mb5" data-reactid="231"><li class="f6 lh-copy pv1" data-reactid="232"><a class="nav-link " href="/postgraphile/community-contributions/" data-reactid="233"><span data-reactid="234">Community Contributions</span></a></li><li class="f6 lh-copy pv1" data-reactid="235"><a class="nav-link " href="/postgraphile/community-chat/" data-reactid="236"><span data-reactid="237">Community Chat</span></a></li><li class="f6 lh-copy pv1" data-reactid="238"><a class="nav-link " href="/postgraphile/code-of-conduct/" data-reactid="239"><span data-reactid="240">Code of Conduct</span></a></li></ul></div></section><section data-reactid="241"><h4 class="f6 ttu fw6 mt0 mb3 bb pb2" data-reactid="242"><span data-reactid="243">FAQ</span></h4><div class="nested-list-reset" data-reactid="244"><ul class="page-list nav flex-column mb5" data-reactid="245"><li class="f6 lh-copy pv1" data-reactid="246"><a class="nav-link " href="/postgraphile/introspection/" data-reactid="247"><span data-reactid="248">Introspection?</span></a></li><li class="f6 lh-copy pv1" data-reactid="249"><a class="nav-link " href="/postgraphile/why-nullable/" data-reactid="250"><span data-reactid="251">Why is it nullable?</span></a></li><li class="f6 lh-copy pv1" data-reactid="252"><a class="nav-link " href="/postgraphile/versioning-policy/" data-reactid="253"><span data-reactid="254">Versioning policy?</span></a></li></ul></div></section></aside><div class="col-xs-12 col-md-9 first-xs main-content" data-reactid="255"><div class="row" data-reactid="256"><div class="col-xs-12" style="width:100%;" data-reactid="257"><div class="edit-this-page" style="display:;" data-reactid="258"><a href="https://github.com/graphile/graphile.github.io/edit/develop/src/pages/postgraphile/production.md" data-reactid="259">📝 Suggest improvements to this page</a></div><div data-reactid="260"><h2 id="production-considerations"><a href="#production-considerations" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Production Considerations</h2>
<p>When it comes time to deploy your PostGraphile application in production,
there's a few things you'll want to think about including topics such as
logging, security and stability. This article outlines some of the issues
you might face, and how to solve them.</p>
<h3 id="database-access-considerations"><a href="#database-access-considerations" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Database Access Considerations</h3>
<p>PostGraphile is just a node app / middleware, so you can deploy it to any
number of places: Heroku, Now.sh, a VM, a container such as Docker, or of
course onto bare metal. Typically you won't run PostGraphile on the same
hardware/container/VM as the database, so PostGraphile needs to be able to
connect to your database without you putting your DB at risk.</p>
<p>A standard way of doing this is to put the DB behind a firewall. However,
if you're using a system like Heroku or Now.sh you probably can't do that,
so instead you must make your DB accessible to the internet. When doing so
here are a few things we recommend:</p>
<ol>
<li>Only allow connections over SSL (<code class="language-text">force_ssl</code> setting)</li>
<li>Use a secure username (not <code class="language-text">root</code>, <code class="language-text">admin</code>, <code class="language-text">postgres</code>, etc which are all fairly commonly used)</li>
<li>Use a super secure password; you can use a command like this to generate one:
<code class="language-text">openssl rand -base64 30 | tr &#39;+/&#39; &#39;-_&#39;</code></li>
<li>Use a non-standard port for your PostgreSQL server if you can (pick a random port number)</li>
<li>Use a hard-to-guess hostname, and never reveal the hostname to anyone who doesn't need to know it</li>
<li>If possible, limit the IP addresses that can connect to your DB to be those of your hosting provider.</li>
</ol>
<p>Heroku have some instructions on making RDS available for use under Heroku
which should also work for Now.sh or any other service:
<a href="https://devcenter.heroku.com/articles/amazon-rds">https://devcenter.heroku.com/articles/amazon-rds</a></p>
<h3 id="common-middleware-considerations"><a href="#common-middleware-considerations" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Common Middleware Considerations</h3>
<p>In a production app, you typically want to add a few common enhancements, e.g.</p>
<ul>
<li>Logging</li>
<li>Gzip or similar compression</li>
<li>Security protections</li>
<li>Rate limiting</li>
</ul>
<p>Since there's already a lot of options and opinions in this space, and they're
not directly related to the problem of serving GraphQL from your PostgreSQL
database, PostGraphile does not include these things by default. We recommend
that you use something like Express middlewares to implement these common
requirements. This is why we recommend <a href="/postgraphile/usage-library/">using PostGraphile as a
library</a> for production usage.</p>
<p>Picking the Express (or similar) middlewares that work for you is beyond the
scope of this article; below is an example of where to place these middlewares.</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"express"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> postgraphile <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"postgraphile"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* Example middleware you might want to put in front of PostGraphile */</span>
<span class="token comment">// app.use(require('morgan')(...));</span>
<span class="token comment">// app.use(require('compression')({...}));</span>
<span class="token comment">// app.use(require('helmet')({...}));</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">postgraphile</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">DATABASE_URL</span> <span class="token operator">||</span> <span class="token string">"postgres:///"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<h3 id="denial-of-service-considerations"><a href="#denial-of-service-considerations" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Denial of Service Considerations</h3>
<p>When you run PostGraphile in production you'll want to ensure that people
cannot easily trigger denial of service (DOS) attacks against you. Due to the
nature of GraphQL it's easy to construct a small query that could be very
expensive for the server to run, for example:</p>
<div class="gatsby-highlight">
      <pre class="language-graphql"><code class="language-graphql">allUsers <span class="token punctuation">{</span>
  nodes <span class="token punctuation">{</span>
    postsByAuthorId <span class="token punctuation">{</span>
      nodes <span class="token punctuation">{</span>
        commentsByPostId <span class="token punctuation">{</span>
          userByAuthorId <span class="token punctuation">{</span>
            postsByAuthorId <span class="token punctuation">{</span>
              nodes <span class="token punctuation">{</span>
                commentsByPostId <span class="token punctuation">{</span>
                  userByAuthorId <span class="token punctuation">{</span>
                    postsByAuthorId <span class="token punctuation">{</span>
                      nodes <span class="token punctuation">{</span>
                        commentsByPostId <span class="token punctuation">{</span>
                          userByAuthorId <span class="token punctuation">{</span>
                            id
                          <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                      <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                  <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>There's lots of techniques for protecting your server from these kinds of
queries; a great introduction to this subject is <a href="https://dev-blog.apollodata.com/securing-your-graphql-api-from-malicious-queries-16130a324a6b">this blog
post</a>
from Apollo.</p>
<p>These techniques should be used in conjunction with common HTTP protection
methods such as rate limiting which are typically better implemented at a
separate layer; for example you could use <a href="https://www.cloudflare.com/rate-limiting/">Cloudflare rate
limiting</a> for this.</p>
<h4 id="simple-query-whitelist-persisted-queries"><a href="#simple-query-whitelist-persisted-queries" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Simple: Query Whitelist ("persisted queries")</h4>
<p>If you do not intend to open your API up to third parties to run arbitrary
queries against then using persisted queries as a query whitelist to protect
your GraphQL endpoint is a good solution. This technique ensures that only the
queries you use in your own applications can be executed on the server (but you
can of course change the variables).</p>
<p>This technique has a few caveats:</p>
<ul>
<li>Your API will only accept queries that you've approved, so it's not suitable if you want third parties to run arbitrary queries</li>
<li>You must be able to generate a unique ID from each query; e.g. a hash</li>
<li>You must use "static GraphQL queries" - that is the queries must be known at build time of your application/webpage, and only the variables fed to those queries can change at run-time</li>
<li>You must have a way of sharing these queries between the application and the server</li>
<li>You must be careful not to use variables in dangerous places; for example don't write <code class="language-text">allUsers(first: $myVar)</code> as a malicious attacker could set <code class="language-text">$myVar</code> to 2147483647 in order to cause your server to process as much data as possible.</li>
</ul>
<p>PostGraphile currently doesn't have this functionality built in, but it's
fairly easy to add it when using PostGraphile as an express middleware, a
simple implementation might look like this:</p>
<div class="gatsby-highlight">
      <pre class="language-js"><code class="language-js"><span class="token keyword">const</span> postgraphile <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postgraphile'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> bodyParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'body-parser'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>bodyParser<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**** BEGINNING OF CUSTOMIZATION ****/</span>
<span class="gatsby-highlight-code-line"><span class="token keyword">const</span> persistedQueries <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./persistedQueries.json'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">
</span><span class="gatsby-highlight-code-line">app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">'/graphql'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
</span><span class="gatsby-highlight-code-line">  <span class="token comment">// TODO: validate req.body is of the right form</span>
</span><span class="gatsby-highlight-code-line">  req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>query <span class="token operator">=</span>
</span><span class="gatsby-highlight-code-line">    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">.</span>hasOwnProperty<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>persistedQueries<span class="token punctuation">,</span> req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
</span><span class="gatsby-highlight-code-line">      <span class="token operator">?</span> persistedQueries<span class="token punctuation">[</span>req<span class="token punctuation">.</span>body<span class="token punctuation">.</span>id<span class="token punctuation">]</span>
</span><span class="gatsby-highlight-code-line">      <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line">  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="gatsby-highlight-code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token comment">/**** END OF CUSTOMIZATION *** */</span>

app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">postgraphile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>i.e. a simple middleware mounted before postgraphile that manipulates the request body.</p>
<p>I personally use my forks of Apollo's <code class="language-text">persistgraphql</code> tools to help me manage
the persisted queries themselves:</p>
<ul>
<li><a href="https://github.com/benjie/persistgraphql">https://github.com/benjie/persistgraphql</a></li>
<li><a href="https://github.com/benjie/persistgraphql-webpack-plugin">https://github.com/benjie/persistgraphql-webpack-plugin</a></li>
</ul>
<p>These forks generate hashes rather than numbers; which make the persisted
queries consistent across multiple builds and applications (website, mobile,
browser plugin, ...).</p>
<p><strong>NOTE</strong>: even if you're using persisted queries, it can be wise to implement
the advanced protections as it enables you to catch unnecessarily expensive
queries before you start facing performance bottlenecks down the line.</p>
<h4 id="advanced"><a href="#advanced" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced</h4>
<p>Using a query whitelist puts the decision in the hands of your engineers
whether a particular query should be accepted or not. Sometimes this isn't
enough - it could be that your engineers need guidance to help them avoid
common pit-falls (e.g. forgetting to put limits on collections they query), or
it could be that you wish arbitrary third parties to be able to send queries to
your API without the queries being pre-approved and without the risk of
bringing your servers to their knees.</p>
<p><strong>You are highly encouraged to purchase the <a href="/postgraphile/pricing/">Pro Plugin <a href='/postgraphile/pricing/' class="plan-pro"><span class='first-letter'>p</span><span class='rest'>ro</span></a></a>,
which implements these protections in a deeply integrated and PostGraphile
optimised way, and has the added benefit of helping sustain development and
maintenance on the project.</strong></p>
<p>The following details how the Pro Plugin addresses these issues, including
hints on how you might go about solving the issues for yourself. Many of these
techniques can be implemented outside of PostGraphile, for example in an
express middleware or a nginx reverse proxy between PostGraphile and the
client.</p>
<h4 id="sending-queries-to-read-replicas"><a href="#sending-queries-to-read-replicas" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Sending queries to read replicas</h4>
<p>Probably the most important thing regarding scalability is making sure that your
master database doesn't bow under the pressure of all the clients talking to it.
One way to reduce this pressure is to offload read operations to read replicas.
In GraphQL it's easy to tell if a request will perform any writes or not: if
it's a <code class="language-text">query</code> then it's read-only, if it's a <code class="language-text">mutation</code> then it may perform
writes.</p>
<p>Using <code class="language-text">--read-only-connection &lt;string&gt;</code> <a href='/postgraphile/pricing/' class="plan-pro"><span class='first-letter'>p</span><span class='rest'>ro</span></a> you may give PostGraphile a
separate connection string to use for queries, to compliment the connection
string passed via <code class="language-text">--connection</code> which will now be used only for mutations.</p>
<p>(If you're using middleware, then you'll want to pass a read-only pool to the
<code class="language-text">readReplicaPgPool</code><a href='/postgraphile/pricing/' class="plan-pro"><span class='first-letter'>p</span><span class='rest'>ro</span></a> option instead.)</p>
<blockquote>
<p>NOTE: We don't currently support the multi-host syntax for this connection
string, but you can use a PostgreSQL proxy such a PgPool or PgBouncer between
PostGraphile and your database to enable connecting to multiple read
replicas.</p>
</blockquote>
<h4 id="pagination-caps"><a href="#pagination-caps" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pagination caps</h4>
<p>It's unlikely that you want users to request <code class="language-text">allUsers</code> and receive back
literally all of the users in the database. More likely you want users to use
cursor-based pagination over this connection with <code class="language-text">first</code> / <code class="language-text">after</code>. The Pro
Plugin introduces the <code class="language-text">--default-pagination-cap [int]</code> <a href='/postgraphile/pricing/' class="plan-pro"><span class='first-letter'>p</span><span class='rest'>ro</span></a> option which
enables you to enforce a pagination cap on all connections. Whatever number
you pass will be used as the pagination cap, but you can override it on a
table-by-table basis using <a href="/postgraphile/smart-comments/">smart comments</a> - in this case the <code class="language-text">@paginationCap</code><a href='/postgraphile/pricing/' class="plan-pro"><span class='first-letter'>p</span><span class='rest'>ro</span></a> smart comment.</p>
<div class="gatsby-highlight">
      <pre class="language-sql"><code class="language-sql"><span class="token keyword">comment</span> <span class="token keyword">on</span> <span class="token keyword">table</span> users <span class="token operator">is</span>
  E<span class="token string">'@paginationCap 20\nSomeone who can log in.'</span><span class="token punctuation">;</span></code></pre>
      </div>
<h4 id="limiting-graphql-query-depth"><a href="#limiting-graphql-query-depth" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Limiting GraphQL query depth</h4>
<p>Most GraphQL queries tend to be only a few levels deep, queries like the deep
one at the top of this article are generally not required. You may use
<code class="language-text">--graphql-depth-limit [int]</code> <a href='/postgraphile/pricing/' class="plan-pro"><span class='first-letter'>p</span><span class='rest'>ro</span></a> to limit the depth of any GraphQL queries
that hit PostGraphile - any deeper than this will be discarded during query
validation.</p>
<h4 id="experimental-graphql-cost-limit"><a href="#experimental-graphql-cost-limit" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>[EXPERIMENTAL] GraphQL cost limit</h4>
<p>The most powerful way of preventing DOS is to limit the cost of GraphQL queries
that may be executed against your GraphQL server. The Pro Plugin contains a
very early implementation of this technique, but the costs are not very
accurate yet. You may enable a cost limit with <code class="language-text">--graphql-cost-limit [int]</code>
<a href='/postgraphile/pricing/' class="plan-pro"><span class='first-letter'>p</span><span class='rest'>ro</span></a> and the calculated cost of any GraphQL queries will be made available on
<code class="language-text">meta</code> field in the GraphQL payload.</p>
<p>If your GraphQL query is seen to be too expensive, here's some techniques to
bring the calculated cost down:</p>
<ul>
<li>If you've not specified a limit (<code class="language-text">first</code>/<code class="language-text">last</code>) on a connection, we assume
it will return 1000 results. If you're expecting fewer than this, specify the
maximum you'd ever expect to receive.</li>
<li>Cost is based on number of expected results (without looking at the
database!) so lower your limits on connections.</li>
<li>Connections multiply the cost of their children by the number of results
they're expected to return, so lower the limits on connections.</li>
<li>Nested fields multiply costs; so pulling a connection inside a connection
inside a connection is going to be expensive - to address this, try placing
lower <code class="language-text">first</code>/<code class="language-text">last</code> values on the connections or avoiding fetching nested
data until you need to display it (split into multiple requests / only
request the data you need).</li>
<li>Subscriptions are automatically seen as 10x as expensive as queries - try
and minimise the amount of data your subscription requests.</li>
<li>Procedure connections are treated as more expensive than table connections.</li>
<li><code class="language-text">totalCount</code> on a table has a fair cost</li>
<li><code class="language-text">totalCount</code> on a procedure has a higher cost</li>
<li>Using <code class="language-text">pageInfo</code> adds significant cost to connections</li>
<li>Computed columns are seen as fairly expensive - in future we may factor in
PostgreSQL's <code class="language-text">COST</code> parameter when figuring this out.</li>
</ul>
<p>Keep in mind this is a <strong>very early</strong> implementation of cost analysis, there's
much improvement to be made. Feel free to reach out with any bad costs/queries
so we can improve it.</p></div></div><br data-reactid="261"/><br data-reactid="262"/><div class="col-xs-12 mt3 mb5" data-reactid="263"><div class="row between-xs" data-reactid="264"><div class="col-xs-6" data-reactid="265"><a class="" href="/postgraphile/postgresql-schema-design/" data-reactid="266"><span class="fas fa-fw fa-arrow-left" data-reactid="267"></span><!-- react-text: 268 --> <!-- /react-text --><span data-reactid="269">PostgreSQL Schema Design</span></a></div><div class="col-xs-6 tr" data-reactid="270"><a class="" href="/postgraphile/jwt-guide/" data-reactid="271"><span data-reactid="272">PostGraphile JWT Guide</span><!-- react-text: 273 --> <!-- /react-text --><span class="fas fa-fw fa-arrow-right" data-reactid="274"></span></a></div></div></div></div></div></div></div></section><section class="mailinglist" data-reactid="275"><div class="container" data-reactid="276"><div class="row" data-reactid="277"><div class="col-xs-12" data-reactid="278"><div class="hero-block" data-reactid="279"><h3 data-reactid="280"><!-- react-text: 281 -->Questions, comments or feedback?<!-- /react-text --><br data-reactid="282"/><!-- react-text: 283 -->Email<!-- /react-text --><!-- react-text: 284 --> <!-- /react-text --><a href="mailto:info@graphile.org?subject=Documentation%20question/comment/feedback:)" data-reactid="285">info@graphile.org</a></h3><form action="//graphile.us16.list-manage.com/subscribe/post?u=d103f710cf00a9273b55e8e9b&amp;id=c3a9eb5c4e" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate="" data-reactid="286"><div id="mc_embed_signup_scroll" class="center hero-block" data-reactid="287"><p data-reactid="288">Keep up to date on Graphile and PostGraphile features/changes. Subscribe to our occasional announcements newsletter:</p><div class="mc-field-group form-inline justify-content-center" data-reactid="289"><div class="form-group" data-reactid="290"><div class="mb2" data-reactid="291"><label class="label--small" for="mce-EMAIL" data-reactid="292">Email address:</label></div><input type="email" autocapitalize="off" autocomplete="off" autocorrect="off" class="input-text mb0-ns mb1" id="mce-EMAIL" name="EMAIL" spellcheck="false" value="" data-reactid="293"/><div style="position:absolute;left:-5000px;" aria-hidden="true" data-reactid="294"><input type="text" name="b_d103f710cf00a9273b55e8e9b_c3a9eb5c4e" tabindex="-1" value="" data-reactid="295"/></div><input type="submit" class="button--solid" id="mc-embedded-subscribe" name="subscribe" value="Subscribe" data-reactid="296"/></div><div id="mce-responses" class="clear" data-reactid="297"><div class="response" id="mce-error-response" style="display:none;" data-reactid="298"></div><div class="response" id="mce-success-response" style="display:none;" data-reactid="299"></div></div></div></div></form></div></div></div></div></section></div><footer class="bg-white pv5 bt b--black f6 lh-copy" data-reactid="300"><div class="container" data-reactid="301"><div class="row" data-reactid="302"><div class="col-xs-12 col-md-2 nested-list-reset " data-reactid="303"><h6 data-reactid="304">PostGraphile</h6><ul data-reactid="305"><li data-reactid="306"><a href="/postgraphile/introduction/" data-reactid="307">Introduction</a></li><li data-reactid="308"><a href="/postgraphile/security/" data-reactid="309">Security</a></li><li data-reactid="310"><a href="/postgraphile/extending/" data-reactid="311">Extending</a></li></ul></div><div class="col-xs-12 col-md-2 nested-list-reset " data-reactid="312"><h6 data-reactid="313">Graphile Engine</h6><ul data-reactid="314"><li data-reactid="315"><a href="/graphile-build/" data-reactid="316">About</a></li><li data-reactid="317"><a href="/graphile-build/getting-started/" data-reactid="318">Getting Started</a></li><li data-reactid="319"><a href="/graphile-build/plugins/" data-reactid="320">Plugins</a></li></ul></div><div class="col-xs-12 col-md-2 nested-list-reset" data-reactid="321"><h6 data-reactid="322">Resources</h6><ul data-reactid="323"><li data-reactid="324"><a href="/news/" data-reactid="325"><i class="fas fa-bullhorn" data-reactid="326"></i><!-- react-text: 327 --> News<!-- /react-text --></a></li><li data-reactid="328"><a href="https://github.com/graphile" data-reactid="329"><i class="fab fa-github" data-reactid="330"></i><!-- react-text: 331 --> GitHub<!-- /react-text --></a></li><li data-reactid="332"><a href="http://discord.gg/graphile" data-reactid="333"><i class="fab fa-discord" data-reactid="334"></i><!-- react-text: 335 --> Chat (discord)<!-- /react-text --></a></li><li data-reactid="336"><a href="https://twitter.com/graphilehq" data-reactid="337"><i class="fab fa-twitter" data-reactid="338"></i><!-- react-text: 339 --> Twitter<!-- /react-text --></a></li><li data-reactid="340"><a href="/news/press-kit/" data-reactid="341"><i class="fas fa-file-archive" data-reactid="342"></i><!-- react-text: 343 --> Logos/etc<!-- /react-text --></a></li></ul></div><div class="col-xs-12 col-md-offset-1 col-md-5" data-reactid="344"><h6 data-reactid="345">About</h6><!-- react-text: 346 -->PostGraphile and Graphile Build are crowd-funded Open Source Software, developed and maintained primarily by<!-- /react-text --><!-- react-text: 347 --> <!-- /react-text --><a href="https://twitter.com/benjie" data-reactid="348">@Benjie</a><!-- react-text: 349 --> with the help of the community.<!-- /react-text --><br data-reactid="350"/><br data-reactid="351"/><!-- react-text: 352 -->You can support the projects via<!-- /react-text --><!-- react-text: 353 --> <!-- /react-text --><a href="/sponsor/" data-reactid="354">sponsorship</a><!-- react-text: 355 -->, by<!-- /react-text --><!-- react-text: 356 --> <!-- /react-text --><a href="/postgraphile/pricing/" data-reactid="357">going Pro</a><!-- react-text: 358 -->, or by paying for<!-- /react-text --><!-- react-text: 359 --> <!-- /react-text --><a href="/support/" data-reactid="360">Professional Services</a><!-- react-text: 361 -->. Your support is gratefully received 🙏<!-- /react-text --><br data-reactid="362"/><br data-reactid="363"/><!-- react-text: 364 -->This site is copyright © Benjie Gillam <!-- /react-text --><!-- react-text: 365 -->2018<!-- /react-text --><!-- react-text: 366 -->. Design and logos copyright © Benjie Gillam and Jof Arnold<!-- /react-text --><!-- react-text: 367 --> <!-- /react-text --><!-- react-text: 368 -->2018<!-- /react-text --><!-- react-text: 369 -->.<!-- /react-text --><br data-reactid="370"/><br data-reactid="371"/><!-- react-text: 372 -->Corrections and contributions to this website are gratefully received via<!-- /react-text --><!-- react-text: 373 --> <!-- /react-text --><a href="https://github.com/graphile/graphile.github.io" data-reactid="374">its GitHub repository</a><!-- react-text: 375 -->.<!-- /react-text --><br data-reactid="376"/><br data-reactid="377"/><!-- react-text: 378 -->PostGraphile was <!-- /react-text --><a href="/history/" data-reactid="379">originally authored</a><!-- react-text: 380 --> as PostGraphQL by<!-- /react-text --><!-- react-text: 381 --> <!-- /react-text --><a href="https://twitter.com/calebmer" data-reactid="382">Caleb Meredith</a><!-- react-text: 383 -->.<!-- /react-text --></div></div></div></footer></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-1fc147b2e9689baf38ab.js","96961042003272":"component---src-templates-page-js-44912100fe5a923703fa.js","59784799166159":"component---src-templates-marketing-js-40e199c898662c5efde7.js","60335399758886":"path----557518bd178906f8d58a.js","45788430371641":"path---history-86d19112d02ac9a487e9.js","142629428675168":"path---index-9af5238ba8a8966def21.js","88641327033989":"path---sponsor-da8d42de01cff570af29.js","192423053311925":"path---graphile-build-pg-security-35a38261dd6015ec8126.js","194808618595402":"path---graphile-build-pg-settings-c8c8f844152d3dc75d02.js","128602041518144":"path---graphile-build-all-hooks-2e3cf18f109aa5b08b45.js","64023390553510":"path---graphile-build-build-object-b90a433ac6342e8e5e14.js","69504633912515":"path---graphile-build-context-object-205874feb56aeda0e264.js","125892818282768":"path---graphile-build-default-plugins-0bdfadffa9025fac15e9.js","109947277077173":"path---graphile-build-getting-started-76e1ee9f05ba087cbef7.js","16210746157911":"path---graphile-build-graphile-build-c7028d040f3d29562a91.js","57552969484094":"path---graphile-build-hooks-60a0ac6262d93d3cbd3c.js","109627700230002":"path---graphile-build-f41a9655e0ee6494c60a.js","76338124382236":"path---graphile-build-look-ahead-cdcd71d5b0c43dec1aae.js","36474596372704":"path---graphile-build-omitting-plugins-5fd736785117b68e333a.js","276285638780302":"path---graphile-build-plugin-options-a483386198cf604243c6.js","136546493962690":"path---graphile-build-plugins-d6310560d9dc4c10bb08.js","277477532944301":"path---graphile-build-schema-builder-c2e5e804771f47b68ec6.js","208863975630277":"path---news-eb2ea5b79e39008fd58f.js","219633165437141":"path---news-postgraphile-version-4-1-58955d9496963d1bbc8b.js","143510993521902":"path---news-postgraphile-version-4-a759c3fa023e6d09d14e.js","72313494074136":"path---news-press-kit-9e35942590c57ed337c8.js","235145966638131":"path---postgraphile-code-of-conduct-de154183d37f88a2b1e9.js","114781403929568":"path---postgraphile-community-chat-d67fdc315191121d1b11.js","86394197680347":"path---postgraphile-community-contributions-d5ab5ca3990a6d7cb5c3.js","216163489569211":"path---postgraphile-community-plugins-a4ca5241b956d78370f4.js","99411096849217":"path---postgraphile-computed-columns-1f844b5c8d37c73f9e1b.js","245194823331250":"path---postgraphile-connections-7d7e60fb2167a5d48ef8.js","226259727392765":"path---postgraphile-crud-mutations-2b9b40eebf0b1b4a0348.js","209456356109321":"path---postgraphile-custom-mutations-873bd414911084787489.js","262226386268176":"path---postgraphile-custom-queries-7a649944cd621d7070ff.js","58450730530065":"path---postgraphile-debugging-446f80b5b4f349212efc.js","183024611244872":"path---postgraphile-default-role-ed7ce7873887913e28f5.js","46110498460401":"path---postgraphile-evaluating-dfefcdba758f58f8f7f8.js","235675790195762":"path---postgraphile-examples-1a5054ac36cdd42ceeb1.js","187503077063819":"path---postgraphile-extending-raw-d0c532c3ec5d701400b8.js","1465359564156":"path---postgraphile-extending-d7e6f775d77119939ce3.js","29661158995595":"path---postgraphile-filtering-ff2195a667b19d357bec.js","101562502586227":"path---postgraphile-function-gallery-4fe875f5fe4c44036695.js","101463202308976":"path---postgraphile-function-restrictions-cc9aa17baae657cabe93.js","202678300341359":"path---postgraphile-functions-3ea32aa5f9ae38e88cb3.js","48764759135427":"path---postgraphile-41f8bb3e02937bae057e.js","34445096275681":"path---postgraphile-inflection-25fdd5c0874fb6cd39b4.js","231292683096477":"path---postgraphile-introduction-2a51e1b99d55c6366ba1.js","33982096820675":"path---postgraphile-introspection-67f60f95446139aae201.js","131593726388413":"path---postgraphile-jwk-verification-6335c2e0bc1477c3b541.js","217512476184238":"path---postgraphile-jwt-guide-f9ebfd9ec16e6211a9fa.js","64254551156649":"path---postgraphile-make-add-inflectors-plugin-652db47428e75dbde787.js","161082936966388":"path---postgraphile-make-change-nullability-plugin-2f6c4642be58044aea5f.js","30601655320255":"path---postgraphile-make-extend-schema-plugin-2588ccd70575ae3d55cf.js","258216963914742":"path---postgraphile-make-plugin-by-combining-plugins-f1c36e9beed7153f8e26.js","81450269707069":"path---postgraphile-make-process-schema-plugin-44a29fc0a517a3bcf06f.js","183453616913285":"path---postgraphile-make-wrap-resolvers-plugin-4376298f109206d0c63e.js","49645441935291":"path---postgraphile-namespaces-4a737870a4bfd5f52d32.js","206205697905610":"path---postgraphile-node-id-5fc41f73207d3225883e.js","245838197689590":"path---postgraphile-performance-0196f9362b9e981707e1.js","193154730806080":"path---postgraphile-plugin-gallery-11cb62b7b06b622b519e.js","34112019379484":"path---postgraphile-plugins-4b38483aac847221974d.js","43306645800525":"path---postgraphile-postgresql-indexes-a48c29242e4e061735c3.js","85182451526728":"path---postgraphile-pricing-de5f9b91c4197d32ab87.js","257659440118484":"path---postgraphile-procedures-652aed2b12422e84b524.js","17839233601159":"path---postgraphile-postgresql-schema-design-58d45f31e595df5379f6.js","163587040327238":"path---postgraphile-production-8b31fb5e656894ff78bd.js","20524195157075":"path---postgraphile-quick-start-guide-ad37a33309de01c25311.js","136696082986067":"path---postgraphile-relations-d7658dbf073bc848259d.js","187294999324209":"path---postgraphile-requirements-9c273ef7e95aa4fec002.js","126695865748518":"path---postgraphile-reserved-keywords-af482b540239ce44525c.js","143935096069691":"path---postgraphile-security-d1de4ed71dca04e4e1fb.js","27297302318019":"path---postgraphile-smart-comments-8284a226ff2ee5e2575b.js","244450434420656":"path---postgraphile-tables-0adb1c32142e3be67a20.js","112985368742066":"path---postgraphile-subscriptions-43a9f9fb0b473ab45703.js","3265662318058":"path---postgraphile-usage-cli-fd7607d6209a46ba966d.js","174583816914262":"path---postgraphile-testing-jest-d9a4817ff8c6750c290a.js","148070795768796":"path---postgraphile-usage-library-6496deccc516cc7a6163.js","272066437984048":"path---postgraphile-usage-schema-0ac82aa22547097a4537.js","247601703930759":"path---postgraphile-usage-4ee5968c4c37c15e54ce.js","270428963090724":"path---postgraphile-versioning-policy-6c976052815c122ac451.js","57656932303775":"path---postgraphile-v-4-new-features-77bd58b73655e721f3af.js","141666846945901":"path---support-c66547754a3d1669e3ce.js","156260474427399":"path---postgraphile-why-nullable-6acb4d4a5792c3e72d9b.js","87638492893048":"path---postgraphile-v-3-migration-4c816937e614e0c90e73.js","114276838955818":"component---src-layouts-index-js-bf0cf927d312fc2d4c27.js"}/*]]>*/</script><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-e9c5ebe9f9d03df65cb6.js","/app-1fc147b2e9689baf38ab.js","/path---postgraphile-production-8b31fb5e656894ff78bd.js","/component---src-templates-page-js-44912100fe5a923703fa.js","/component---src-layouts-index-js-bf0cf927d312fc2d4c27.js"])/*]]>*/</script><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script></body></html>